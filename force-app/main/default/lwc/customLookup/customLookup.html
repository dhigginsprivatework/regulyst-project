<template>
    <div class="lookup-container">
        <lightning-input
            type="search"
            label={label}
            value={searchKey}
            onchange={handleSearch}>
        </lightning-input>

        <template if:true={hasResults}>
            <ul class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid"
                role="listbox">
                <template for:each={results} for:item="record">
                    <li key={record.Id}
                        class="slds-listbox__item"
                        role="presentation">
                        <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
                             role="option"
                             data-id={record.Id}
                             data-name={record.Name}
                             onclick={handleSelect}>
                            <span class="slds-media__body">
                                <span class="slds-truncate" title={record.Name}>{record.Name}</span>
                            </span>
                        </div>
                    </li>
                </template>
            </ul>
        </template>
    </div>
</template>
