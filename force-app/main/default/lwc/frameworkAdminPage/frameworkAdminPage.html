<template>
    <div class="regulyst-page">
        <div class="regulyst-header">
            <img src="/resource/Regulyst_Logo" alt="Regulyst Logo" class="regulyst-logo" />
            <h1 class="regulyst-title">Frameworks</h1>
        </div>

        <div class="regulyst-body slds-p-around_medium">
            <lightning-input
                type="search"
                label=""
                placeholder="Search Frameworks"
                class="regulyst-search"
                onchange={handleSearch}>
            </lightning-input>

            <div class="tile-container">
                <template for:each={frameworks} for:item="fw">
                    <c-framework-tile
                        key={fw.Id}
                        framework={fw}
                        selected-id={selectedFrameworkId}
                        onselect={handleFrameworkSelect}>
                    </c-framework-tile>
                </template>
            </div>

            <template if:true={selectedFrameworkId}>
                <c-project-list
                    framework-id={selectedFrameworkId}
                    onlaunchcreator={handleLaunchCreator}> 
                </c-project-list>
            </template>

            <c-project-panel
                if:true={showProjectPanel}
                framework-id={selectedFrameworkId}
                onclose={handleClosePanel}
                onprojectcreated={handleProjectCreated}>
            </c-project-panel>
        </div>
    </div>
</template>
